---
components:
  schemas:
    flightInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "kbf5ggrp7vb"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-id: "buhl69woom7"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "flightInfo"
      title: "Generated schema for Root"
      type: "object"
      properties:
        beltNo:
          type: "string"
        flightNo:
          type: "number"
        newDepartureTime:
          type: "string"
        flightStatus:
          type: "string"
        newGate:
          type: "string"
      required:
      - "flightNo"
      - "flightStatus"
      x-ep-schema-version-displayname: ""
    loadControlJson:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "o7rzdhzc5be"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-id: "fs1ifguhlw3"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "loadControlJson"
      title: "Generated schema for Root"
      type: "object"
      properties:
        flightNo:
          type: "string"
        noOfBaggage:
          type: "number"
        noOfPax:
          type: "number"
      required:
      - "flightNo"
      - "noOfPax"
      - "noOfBaggage"
      x-ep-schema-version-displayname: ""
    bookingInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "4lg05djqi09"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-id: "9fuocqaxnk2"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "bookingInfo"
      title: "Generated schema for Root"
      type: "object"
      properties:
        date:
          type: "number"
        flightNo:
          type: "string"
        PNR:
          type: "string"
        arrival:
          type: "string"
        class:
          type: "number"
        dep:
          type: "string"
      required:
      - "PNR"
      - "flightNo"
      - "dep"
      - "arrival"
      - "date"
      - "class"
      x-ep-schema-version-displayname: ""
    passengerInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "1i1woky590s"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-id: "ogx85c4w6kk"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "passengerInfo"
      title: "Generated schema for Root"
      type: "object"
      properties:
        passengerAction:
          type: "string"
        destination:
          type: "string"
        passengerId:
          type: "number"
        tripId:
          type: "string"
        vipStatus:
          type: "string"
      required:
      - "passengerId"
      - "tripId"
      - "passengerAction"
      - "destination"
      - "vipStatus"
      x-ep-schema-version-displayname: ""
  messages:
    loadControl:
      x-ep-event-id: "1xfktsookv0"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "ldw5bcokuyk"
      payload:
        $ref: "#/components/schemas/loadControlJson"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "loadControl"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    cancelledBooking:
      x-ep-event-id: "dipwkk0qd50"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "aatjjc59n5v"
      payload:
        $ref: "#/components/schemas/bookingInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "cancelledBooking"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    lounge:
      x-ep-event-id: "jl07sp80aee"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "wb20s0ur0yo"
      payload:
        $ref: "#/components/schemas/passengerInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "lounge"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    foreignImmigration:
      x-ep-event-id: "4t3gmka6k6v"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "i10si5acjp3"
      payload:
        $ref: "#/components/schemas/passengerInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "foreignImmigration"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    newDepartureTime:
      x-ep-event-id: "p20j0h3soow"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "d1i4vlfuifr"
      payload:
        $ref: "#/components/schemas/flightInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "newDepartureTime"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    flightStatus:
      x-ep-event-id: "x9dlcvheoqc"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "639jepff62v"
      payload:
        $ref: "#/components/schemas/flightInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "flightStatus"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
    bookingDetails:
      x-ep-event-id: "v5pk7n448w9"
      x-ep-event-version-displayname: ""
      x-ep-event-version-id: "awziqb0qam2"
      payload:
        $ref: "#/components/schemas/bookingInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "bookingDetails"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "2"
      x-ep-event-state-name: "RELEASED"
channels:
  myair/reservation/bookingCancelled/v1/{PNR}:
    x-ep-event-name: "cancelledBooking"
    publish:
      bindings:
        solace:
          destinations:
          - destinationType: "queue"
            queue:
              name: "checkIn.checkInEngine.bookingCancelled"
              topicSubscriptions:
              - "myair/reservation/bookingCancelled/v1/*"
          bindingVersion: "0.3.0"
      message:
        $ref: "#/components/messages/cancelledBooking"
    parameters:
      PNR:
        schema:
          type: "string"
        x-ep-parameter-name: "PNR"
  myair/reservation/bookingCreated/v1/{PNR}/{flightNo}/{dep}/{arrival}/{date}/{class}:
    x-ep-event-name: "bookingDetails"
    publish:
      bindings:
        solace:
          destinations:
          - destinationType: "queue"
            queue:
              name: "checkIn.checkInEngine.bookingCreated"
              topicSubscriptions:
              - "myair/reservation/bookingCreated/v1/*/*/*/*/*/*"
          bindingVersion: "0.3.0"
      message:
        $ref: "#/components/messages/bookingDetails"
    parameters:
      date:
        schema:
          type: "string"
        x-ep-parameter-name: "date"
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      PNR:
        schema:
          type: "string"
        x-ep-parameter-name: "PNR"
      arrival:
        schema:
          type: "string"
        x-ep-parameter-name: "arrival"
      class:
        schema:
          type: "string"
        x-ep-parameter-name: "class"
      dep:
        schema:
          type: "string"
        x-ep-parameter-name: "dep"
  myair/checkIn/v1/{flightNo}/{flightStatus}:
    x-ep-event-name: "flightStatus"
    subscribe:
      message:
        $ref: "#/components/messages/flightStatus"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      flightStatus:
        schema:
          type: "string"
        x-ep-parameter-name: "flightStatus"
  myair/checkIn/v1/{flightNo}/{noOfPax}/{noOfBaggage}:
    x-ep-event-name: "loadControl"
    subscribe:
      message:
        $ref: "#/components/messages/loadControl"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      noOfBaggage:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfBaggage"
      noOfPax:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfPax"
  myair/checkIn/v1/{flightNo}/{newDepartureTime}:
    x-ep-event-name: "newDepartureTime"
    subscribe:
      message:
        $ref: "#/components/messages/newDepartureTime"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      newDepartureTime:
        schema:
          type: "string"
        x-ep-parameter-name: "newDepartureTime"
  myair/checkIn/v1/{passportNo}/{firstName}/{lastName}/{flightNo}/{arrival}:
    x-ep-event-name: "foreignImmigration"
    subscribe:
      message:
        $ref: "#/components/messages/foreignImmigration"
    parameters:
      passportNo:
        schema:
          type: "string"
        x-ep-parameter-name: "passportNo"
      firstName:
        schema:
          type: "string"
        x-ep-parameter-name: "firstName"
      lastName:
        schema:
          type: "string"
        x-ep-parameter-name: "lastName"
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      arrival:
        schema:
          type: "string"
        x-ep-parameter-name: "arrival"
  myair/checkIn/v1/{flightNo}/{noOfPax}:
    x-ep-event-name: "lounge"
    subscribe:
      message:
        $ref: "#/components/messages/lounge"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      noOfPax:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfPax"
asyncapi: "2.5.0"
info:
  x-ep-application-version: "1.0.0"
  x-ep-application-version-id: "umdq14duxz2"
  x-ep-application-id: "h12jze4wg75"
  x-ep-state-name: "RELEASED"
  title: "checkInEngine"
  x-ep-application-domain-id: "7izbk02gqb9"
  version: "1.0.0"
  x-ep-state-id: "2"
  x-ep-application-domain-name: "Jane Smith-checkIn"
