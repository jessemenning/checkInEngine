---
components:
  schemas:
    loadControlJson:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-version-id: "923sg7u8br6"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "loadControlJson"
      title: "Generated schema for Root"
      type: "object"
      x-ep-application-domain-id: "lklqzndqczz"
      required:
      - "flightNo"
      - "noOfPax"
      - "noOfBaggage"
      x-ep-schema-version-displayname: ""
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-schema-state-id: "2"
      x-ep-schema-id: "nl09ek9z1lt"
      properties:
        flightNo:
          type: "string"
        noOfBaggage:
          type: "number"
        noOfPax:
          type: "number"
    flightInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-version-id: "0ev88yh6n39"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "flightInfo"
      title: "Generated schema for Root"
      type: "object"
      x-ep-application-domain-id: "lklqzndqczz"
      required:
      - "flightNo"
      - "flightStatus"
      x-ep-schema-version-displayname: ""
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-schema-state-id: "2"
      x-ep-schema-id: "0y42owzq6fb"
      properties:
        beltNo:
          type: "string"
        flightNo:
          type: "number"
        newDepartureTime:
          type: "string"
        flightStatus:
          type: "string"
        newGate:
          type: "string"
    bookingInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-version-id: "h16m9wq7sqb"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "bookingInfo"
      title: "Generated schema for Root"
      type: "object"
      x-ep-application-domain-id: "lklqzndqczz"
      required:
      - "PNR"
      - "flightNo"
      - "dep"
      - "arrival"
      - "date"
      - "class"
      x-ep-schema-version-displayname: ""
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-schema-state-id: "2"
      x-ep-schema-id: "43u0azig0ul"
      properties:
        date:
          type: "number"
        flightNo:
          type: "string"
        PNR:
          type: "string"
        arrival:
          type: "string"
        class:
          type: "number"
        dep:
          type: "string"
    passengerInfo:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-version-id: "2939eob4xhd"
      $schema: "http://json-schema.org/draft-07/schema#"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "passengerInfo"
      title: "Generated schema for Root"
      type: "object"
      x-ep-application-domain-id: "lklqzndqczz"
      required:
      - "passengerId"
      - "tripId"
      - "passengerAction"
      - "destination"
      - "vipStatus"
      x-ep-schema-version-displayname: ""
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-schema-state-id: "2"
      x-ep-schema-id: "o02q46tx34f"
      properties:
        passengerAction:
          type: "string"
        destination:
          type: "string"
        passengerId:
          type: "number"
        tripId:
          type: "string"
        vipStatus:
          type: "string"
  messages:
    loadControl:
      x-ep-event-id: "37rvcdipoh6"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "3avlorw04ch"
      payload:
        $ref: "#/components/schemas/loadControlJson"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "loadControl"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    cancelledBooking:
      x-ep-event-id: "asgoycnh0it"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "6y2dsnot9tf"
      payload:
        $ref: "#/components/schemas/bookingInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "cancelledBooking"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    lounge:
      x-ep-event-id: "q0de9b6z4v7"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "st3a05c466f"
      payload:
        $ref: "#/components/schemas/passengerInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "lounge"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    foreignImmigration:
      x-ep-event-id: "jtq9fvjubyi"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "23ak57pyypv"
      payload:
        $ref: "#/components/schemas/passengerInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "foreignImmigration"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    newDepartureTime:
      x-ep-event-id: "e247ebcnf1t"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "5imrar164lq"
      payload:
        $ref: "#/components/schemas/flightInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "newDepartureTime"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    flightStatus:
      x-ep-event-id: "nr7aje2l1at"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "r0g06idi2fu"
      payload:
        $ref: "#/components/schemas/flightInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "flightStatus"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    bookingDetails:
      x-ep-event-id: "85q12hz7hkh"
      x-ep-event-version-displayname: ""
      description: ""
      x-ep-application-domain-id: "lklqzndqczz"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "Additional Student1-checkIn"
      x-ep-event-version-id: "wjjfh3w2git"
      payload:
        $ref: "#/components/schemas/bookingInfo"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "bookingDetails"
      contentType: "application/json"
      x-ep-event-state-id: "2"
channels:
  myair/reservation/bookingCancelled/v1/{PNR}:
    publish:
      bindings:
        solace:
          destinations:
          - destinationType: "queue"
            queue:
              name: "checkIn.checkInEngine.bookingCancelled"
              topicSubscriptions:
              - "myair/reservation/bookingCancelled/v1/*"
          bindingVersion: "0.3.0"
      message:
        $ref: "#/components/messages/cancelledBooking"
    parameters:
      PNR:
        schema:
          type: "string"
        x-ep-parameter-name: "PNR"
  myair/reservation/bookingCreated/v1/{PNR}/{flightNo}/{dep}/{arrival}/{date}/{class}:
    publish:
      bindings:
        solace:
          destinations:
          - destinationType: "queue"
            queue:
              name: "checkIn.checkInEngine.bookingCreated"
              topicSubscriptions:
              - "myair/reservation/bookingCreated/v1/*/*/*/*/*/*"
          bindingVersion: "0.3.0"
      message:
        $ref: "#/components/messages/bookingDetails"
    parameters:
      date:
        schema:
          type: "string"
        x-ep-parameter-name: "date"
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      PNR:
        schema:
          type: "string"
        x-ep-parameter-name: "PNR"
      arrival:
        schema:
          type: "string"
        x-ep-parameter-name: "arrival"
      class:
        schema:
          type: "string"
        x-ep-parameter-name: "class"
      dep:
        schema:
          type: "string"
        x-ep-parameter-name: "dep"
  myair/checkIn/v1/{flightNo}/{noOfPax}/{noOfBaggage}:
    subscribe:
      message:
        $ref: "#/components/messages/loadControl"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      noOfBaggage:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfBaggage"
      noOfPax:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfPax"
  myair/checkIn/v1/{flightNo}/{flightStatus}:
    subscribe:
      message:
        $ref: "#/components/messages/flightStatus"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      flightStatus:
        schema:
          type: "string"
        x-ep-parameter-name: "flightStatus"
  myair/checkIn/v1/{passportNo}/{firstName}/{lastName}/{flightNo}/{arrival}:
    subscribe:
      message:
        $ref: "#/components/messages/foreignImmigration"
    parameters:
      passportNo:
        schema:
          type: "string"
        x-ep-parameter-name: "passportNo"
      firstName:
        schema:
          type: "string"
        x-ep-parameter-name: "firstName"
      lastName:
        schema:
          type: "string"
        x-ep-parameter-name: "lastName"
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      arrival:
        schema:
          type: "string"
        x-ep-parameter-name: "arrival"
  myair/checkIn/v1/{flightNo}/{newDepartureTime}:
    subscribe:
      message:
        $ref: "#/components/messages/newDepartureTime"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      newDepartureTime:
        schema:
          type: "string"
        x-ep-parameter-name: "newDepartureTime"
  myair/checkIn/v1/{flightNo}/{noOfPax}:
    subscribe:
      message:
        $ref: "#/components/messages/lounge"
    parameters:
      flightNo:
        schema:
          type: "string"
        x-ep-parameter-name: "flightNo"
      noOfPax:
        schema:
          type: "string"
        x-ep-parameter-name: "noOfPax"
asyncapi: "2.5.0"
info:
  x-ep-application-version: "1.0.3"
  x-ep-application-version-id: "dxbaiag55pm"
  x-ep-application-id: "gbcmb3g14p3"
  description: "Enables gate agents, ticket agents, airline website and mobile application\
    \ to assist customers with check in. CHECK"
  x-ep-state-name: "RELEASED"
  title: "checkInEngine"
  x-ep-application-domain-id: "lklqzndqczz"
  version: "1.0.3"
  x-ep-state-id: "2"
  x-ep-application-domain-name: "Additional Student1-checkIn"
